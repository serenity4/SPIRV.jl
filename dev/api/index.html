<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SPIRV.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SPIRV.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../features/">Features</a></li><li class="is-active"><a class="tocitem" href>API</a></li><li><a class="tocitem" href="../devdocs/">Developer documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/serenity4/SPIRV.jl/blob/master/docs/src/api.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This section is incomplete. Readers are kindly encouraged to go through the tests and source code for more information about the API usage.</p></div></div><ul><li><a href="#SPIRV.CFG"><code>SPIRV.CFG</code></a></li><li><a href="#SPIRV.DeltaGraph"><code>SPIRV.DeltaGraph</code></a></li><li><a href="#SPIRV.Image"><code>SPIRV.Image</code></a></li><li><a href="#SPIRV.Instruction"><code>SPIRV.Instruction</code></a></li><li><a href="#SPIRV.LayoutStrategy"><code>SPIRV.LayoutStrategy</code></a></li><li><a href="#SPIRV.PhysicalInstruction"><code>SPIRV.PhysicalInstruction</code></a></li><li><a href="#SPIRV.PhysicalModule"><code>SPIRV.PhysicalModule</code></a></li><li><a href="#SPIRV.Pointer-Union{Tuple{UInt64}, Tuple{T}} where T"><code>SPIRV.Pointer</code></a></li><li><a href="#SPIRV.Pointer"><code>SPIRV.Pointer</code></a></li><li><a href="#SPIRV.SSAValue"><code>SPIRV.SSAValue</code></a></li><li><a href="#SPIRV.StructType"><code>SPIRV.StructType</code></a></li><li><a href="#SPIRV.SupportedFeatures"><code>SPIRV.SupportedFeatures</code></a></li><li><a href="#SPIRV.VulkanLayout"><code>SPIRV.VulkanLayout</code></a></li><li><a href="#SPIRV.align-Tuple{Vector{UInt8}, SPIRType, IR}"><code>SPIRV.align</code></a></li><li><a href="#SPIRV.aligned_size"><code>SPIRV.aligned_size</code></a></li><li><a href="#SPIRV.compact_reducible_bbs!-Tuple{Any, Any}"><code>SPIRV.compact_reducible_bbs!</code></a></li><li><a href="#SPIRV.disassemble-Tuple{IO, SPIRV.Module}"><code>SPIRV.disassemble</code></a></li><li><a href="#SPIRV.extract_bytes-Tuple{T} where T"><code>SPIRV.extract_bytes</code></a></li><li><a href="#SPIRV.infer-Tuple{CFG}"><code>SPIRV.infer</code></a></li><li><a href="#SPIRV.infer-Tuple{Core.MethodInstance, Core.Compiler.AbstractInterpreter}"><code>SPIRV.infer</code></a></li><li><a href="#SPIRV.merge_mutually_recursive!-Tuple{Any, Any}"><code>SPIRV.merge_mutually_recursive!</code></a></li><li><a href="#SPIRV.rem_head_recursion!-Tuple{Any, Any}"><code>SPIRV.rem_head_recursion!</code></a></li><li><a href="#SPIRV.spir_type"><code>SPIRV.spir_type</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="SPIRV.CFG" href="#SPIRV.CFG"><code>SPIRV.CFG</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Control Flow Graph (CFG)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/cfg.jl#LL1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.DeltaGraph" href="#SPIRV.DeltaGraph"><code>SPIRV.DeltaGraph</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Graph whose vertices and edges remain identical after deletion of other vertices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/deltagraph.jl#LL6-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Image" href="#SPIRV.Image"><code>SPIRV.Image</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V image type.</p><p>Type parameters:</p><ul><li><code>Dim</code>: SPIR-V <code>Dim</code> enumerated value.</li><li><code>Depth</code>: 64-bit integer with value 0 (not a depth image), 1 (depth image) or 2 (unknown).</li><li><code>Arrayed</code>: <code>Bool</code> indicating whether the image is a layer of an image array.</li><li><code>MS</code>: <code>Bool</code> indicating whether the image is multisampled.</li><li><code>Sampled</code>: 64-bit integer with value 0 (unknown), 1 (may be sampled) or 2 (read-write, no sampling).</li><li><code>Format</code>: SPIR-V <code>ImageFormat</code> enumerated value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/types/image.jl#LL1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Instruction" href="#SPIRV.Instruction"><code>SPIRV.Instruction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Parsed SPIR-V instruction. It represents an instruction of the form <code>%result_id = %opcode(%arguments...)::%type_id</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/instructions.jl#LL21-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.LayoutStrategy" href="#SPIRV.LayoutStrategy"><code>SPIRV.LayoutStrategy</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Layout strategy used to compute alignments, offsets and strides.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/layouts.jl#LL37-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.PhysicalInstruction" href="#SPIRV.PhysicalInstruction"><code>SPIRV.PhysicalInstruction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V instruction in binary format.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/instructions.jl#LL10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.PhysicalModule" href="#SPIRV.PhysicalModule"><code>SPIRV.PhysicalModule</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V module, as a series of headers followed by a stream of instructions. The header embeds two magic numbers, one for the module itself and one for the tool that generated it (e.g. <a href="https://github.com/KhronosGroup/glslang">glslang</a>). It also contains the version of the specification applicable to the module, the maximum ID number and an optional instruction schema.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/parse.jl#LL43-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Pointer" href="#SPIRV.Pointer"><code>SPIRV.Pointer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pointer that keeps its parent around to make sure its contents stay valid.</p><p>Used to represent the mutability of data structures in the type domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/types/pointer.jl#LL1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Pointer-Union{Tuple{UInt64}, Tuple{T}} where T" href="#SPIRV.Pointer-Union{Tuple{UInt64}, Tuple{T}} where T"><code>SPIRV.Pointer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Reconstruct a pointer from a memory address.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/types/pointer.jl#LL11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.SSAValue" href="#SPIRV.SSAValue"><code>SPIRV.SSAValue</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SSA value used in a SPIR-V context.</p><p>Differs from <code>Core.SSAValue</code> in that all SPIR-V constructs will use this <code>SSAValue</code> type to differentiate with Julia SSA values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/ssa.jl#LL1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.StructType" href="#SPIRV.StructType"><code>SPIRV.StructType</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V aggregate type.</p><p>Equality is defined in terms of identity, since different aggregate types have in principle different semantics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/spir_types.jl#LL90-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.SupportedFeatures" href="#SPIRV.SupportedFeatures"><code>SPIRV.SupportedFeatures</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Extensions and capabilities supported by a client API.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/requirements.jl#LL8-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.VulkanLayout" href="#SPIRV.VulkanLayout"><code>SPIRV.VulkanLayout</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Vulkan-compatible layout strategy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/layouts.jl#LL42-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.align-Tuple{Vector{UInt8}, SPIRType, IR}" href="#SPIRV.align-Tuple{Vector{UInt8}, SPIRType, IR}"><code>SPIRV.align</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return a vector of bytes where every logical piece of data has been aligned according to the SPIR-V offsets specified in the IR.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/layouts.jl#LL192-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.aligned_size" href="#SPIRV.aligned_size"><code>SPIRV.aligned_size</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">aligned_size(T, ir::IR, layout::LayoutStrategy)</code></pre><p>Compute the size that a type <code>T</code> should have, using the alignments computed by the provided layout strategy.</p><p>Note that this may differ than the real aligned size that the IR will expect, which will use declared member offsets. If those offsets were overriden manually or obtained by other means that this layout strategy, the results will likely be different.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/layouts.jl#LL122-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.compact_reducible_bbs!-Tuple{Any, Any}" href="#SPIRV.compact_reducible_bbs!-Tuple{Any, Any}"><code>SPIRV.compact_reducible_bbs!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compact reducible basic blocks.</p><p>1 -&gt; 2 -&gt; 3 becomes 1</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/reflection.jl#LL1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.disassemble-Tuple{IO, SPIRV.Module}" href="#SPIRV.disassemble-Tuple{IO, SPIRV.Module}"><code>SPIRV.disassemble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">disassemble(io, spir_module)</code></pre><p>Transform the content of <code>spir_module</code> into a human-readable format and prints it to <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/disassemble.jl#LL85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.extract_bytes-Tuple{T} where T" href="#SPIRV.extract_bytes-Tuple{T} where T"><code>SPIRV.extract_bytes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Extract bytes from a Julia value, with strictly no alignment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/layouts.jl#LL163-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.infer-Tuple{CFG}" href="#SPIRV.infer-Tuple{CFG}"><code>SPIRV.infer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Run type inference on the provided CFG and wrap inferred code with a new CFG.</p><p>The internal <code>MethodInstance</code> of the original CFG gets mutated in the process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/cfg.jl#LL117-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.infer-Tuple{Core.MethodInstance, Core.Compiler.AbstractInterpreter}" href="#SPIRV.infer-Tuple{Core.MethodInstance, Core.Compiler.AbstractInterpreter}"><code>SPIRV.infer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Run type inference on the given <code>MethodInstance</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/cfg.jl#LL96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.merge_mutually_recursive!-Tuple{Any, Any}" href="#SPIRV.merge_mutually_recursive!-Tuple{Any, Any}"><code>SPIRV.merge_mutually_recursive!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Merge mutually recursive blocks into caller.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/reflection.jl#LL27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.rem_head_recursion!-Tuple{Any, Any}" href="#SPIRV.rem_head_recursion!-Tuple{Any, Any}"><code>SPIRV.rem_head_recursion!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Remove head-controlled recursion.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/frontend/reflection.jl#LL19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.spir_type" href="#SPIRV.spir_type"><code>SPIRV.spir_type</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a SPIR-V type from a Julia type, caching the mapping in the <code>IR</code> if one is provided.</p><p>If <code>wrap_mutable</code> is set to true, then a pointer with class <code>StorageClassFunction</code> will wrap the result.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/9581b4287b12552de510b5d155d351e7842f63ee/src/ir.jl#LL275-L279">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../features/">« Features</a><a class="docs-footer-nextpage" href="../devdocs/">Developer documentation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Wednesday 22 June 2022 17:25">Wednesday 22 June 2022</span>. Using Julia version 1.9.0-DEV.836.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
