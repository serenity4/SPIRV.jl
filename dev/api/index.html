<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SPIRV.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SPIRV.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../features/">Features</a></li><li class="is-active"><a class="tocitem" href>API</a></li><li><a class="tocitem" href="../devdocs/">Developer documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/serenity4/SPIRV.jl/blob/master/docs/src/api.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This section is incomplete. Readers are kindly encouraged to go through the tests and source code for more information about the API usage.</p></div></div><ul><li><a href="#SPIRV.AnnotatedModule"><code>SPIRV.AnnotatedModule</code></a></li><li><a href="#SPIRV.ControlTree"><code>SPIRV.ControlTree</code></a></li><li><a href="#SPIRV.DeltaGraph"><code>SPIRV.DeltaGraph</code></a></li><li><a href="#SPIRV.IR"><code>SPIRV.IR</code></a></li><li><a href="#SPIRV.Image"><code>SPIRV.Image</code></a></li><li><a href="#SPIRV.Instruction"><code>SPIRV.Instruction</code></a></li><li><a href="#SPIRV.LayoutStrategy"><code>SPIRV.LayoutStrategy</code></a></li><li><a href="#SPIRV.NativeLayout"><code>SPIRV.NativeLayout</code></a></li><li><a href="#SPIRV.NoPadding"><code>SPIRV.NoPadding</code></a></li><li><a href="#SPIRV.PhysicalInstruction"><code>SPIRV.PhysicalInstruction</code></a></li><li><a href="#SPIRV.PhysicalModule"><code>SPIRV.PhysicalModule</code></a></li><li><a href="#SPIRV.Pointer-Union{Tuple{UInt64}, Tuple{T}} where T"><code>SPIRV.Pointer</code></a></li><li><a href="#SPIRV.Pointer"><code>SPIRV.Pointer</code></a></li><li><a href="#SPIRV.ResultID"><code>SPIRV.ResultID</code></a></li><li><a href="#SPIRV.SPIRVTarget"><code>SPIRV.SPIRVTarget</code></a></li><li><a href="#SPIRV.ShaderLayout"><code>SPIRV.ShaderLayout</code></a></li><li><a href="#SPIRV.StructType"><code>SPIRV.StructType</code></a></li><li><a href="#SPIRV.SupportedFeatures"><code>SPIRV.SupportedFeatures</code></a></li><li><a href="#SPIRV.TypeMetadata"><code>SPIRV.TypeMetadata</code></a></li><li><a href="#SPIRV.VulkanLayout"><code>SPIRV.VulkanLayout</code></a></li><li><a href="#SPIRV.disassemble-Tuple{IO, SPIRV.Module}"><code>SPIRV.disassemble</code></a></li><li><a href="#SPIRV.spir_type"><code>SPIRV.spir_type</code></a></li><li><a href="#SPIRV.@load-Tuple{Any}"><code>SPIRV.@load</code></a></li><li><a href="#SPIRV.@store"><code>SPIRV.@store</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="SPIRV.AnnotatedModule" href="#SPIRV.AnnotatedModule"><code>SPIRV.AnnotatedModule</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Module annotated with instruction ranges for each logical SPIR-V section, suitable for read-only operations and analyses.</p><p>Any desired modifications of annotated modules should be staged and applied via a <a href="@ref"><code>Diff</code></a>.</p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>This module <em>should not</em> be modified, and in particular <em>must not</em> have its structure affected in any way by the insertion or removal of instructions. Modifications can cause the annotations to become out of sync with the updated state of the module, yielding undefined behavior.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/annotated_module.jl#LL36-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.ControlTree" href="#SPIRV.ControlTree"><code>SPIRV.ControlTree</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Control tree.</p><p>The leaves are labeled as <a href="@ref"><code>REGION_BLOCK</code></a> regions, with the distinguishing property that they have no children.</p><p>Children nodes of any given subtree are in reverse postorder according to the original control-flow graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/analysis/structural_analysis.jl#LL258-L265">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.DeltaGraph" href="#SPIRV.DeltaGraph"><code>SPIRV.DeltaGraph</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Graph whose vertices and edges remain identical after deletion of other vertices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/analysis/deltagraph.jl#LL1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.IR" href="#SPIRV.IR"><code>SPIRV.IR</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Intermediate representation of SPIR-V modules.</p><p>The <code>types</code> and <code>constants</code> mappings can be updated at any time without explicitly notifying of the mutation behavior (i.e. functions may not end with <code>!</code>), so long as additions only are performed. Such additions are currently done upon construction of <code>GlobalsInfo</code>. The ID counter can also be incremented without notice.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/ir.jl#LL1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Image" href="#SPIRV.Image"><code>SPIRV.Image</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V image type.</p><p>Type parameters:</p><ul><li><code>Format</code>: SPIR-V <code>ImageFormat</code> enumerated value.</li><li><code>Dim</code>: SPIR-V <code>Dim</code> enumerated value.</li><li><code>Depth</code>: 64-bit integer with value 0 (not a depth image), 1 (depth image) or 2 (unknown).</li><li><code>Arrayed</code>: <code>Bool</code> indicating whether the image is a layer of an image array.</li><li><code>MS</code>: <code>Bool</code> indicating whether the image is multisampled.</li><li><code>Sampled</code>: 64-bit integer with value 0 (unknown), 1 (may be sampled) or 2 (read-write, no sampling).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/frontend/types/image.jl#LL1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Instruction" href="#SPIRV.Instruction"><code>SPIRV.Instruction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Parsed SPIR-V instruction. It represents an instruction of the form <code>%result_id = %opcode(%arguments...)::%type_id</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/instructions.jl#LL22-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.LayoutStrategy" href="#SPIRV.LayoutStrategy"><code>SPIRV.LayoutStrategy</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Layout strategy used to compute alignments, offsets and strides.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/layouts.jl#LL1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.NativeLayout" href="#SPIRV.NativeLayout"><code>SPIRV.NativeLayout</code></a> — <span class="docstring-category">Type</span></header><section><div><p>&quot; Julia layout, with a special handling of mutable fields for composite types.</p><p>Mutable fields are stored as 8-byte pointers in Julia, but in SPIR-V there is no such concept of pointer. Therefore, we treat mutable fields as if they were fully inlined - that imposes a few restrictions on the behavior of such mutable objects, but is necessary to keep some form of compatibility with GPU representations. The alternative would be to completely disallow structs which contain mutable fields.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/layouts.jl#LL18-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.NoPadding" href="#SPIRV.NoPadding"><code>SPIRV.NoPadding</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Layout strategy which assumes no padding is required at all. This might be useful for maximally packing data when serialized, reducing size; or to improve performance by avoiding padding when not needed, e.g. if you already pad your structures manually upfront (only do that if you know what you&#39;re doing).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/layouts.jl#LL47-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.PhysicalInstruction" href="#SPIRV.PhysicalInstruction"><code>SPIRV.PhysicalInstruction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V instruction in binary format.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/instructions.jl#LL11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.PhysicalModule" href="#SPIRV.PhysicalModule"><code>SPIRV.PhysicalModule</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V module, as a series of headers followed by a stream of instructions. The header embeds two magic numbers, one for the module itself and one for the tool that generated it (e.g. <a href="https://github.com/KhronosGroup/glslang">glslang</a>). It also contains the version of the specification applicable to the module, the maximum ID number and an optional instruction schema.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/parse.jl#LL48-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Pointer" href="#SPIRV.Pointer"><code>SPIRV.Pointer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pointer that keeps its parent around to make sure its contents stay valid.</p><p>Used to represent the mutability of data structures in the type domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/frontend/types/pointer.jl#LL1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.Pointer-Union{Tuple{UInt64}, Tuple{T}} where T" href="#SPIRV.Pointer-Union{Tuple{UInt64}, Tuple{T}} where T"><code>SPIRV.Pointer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Reconstruct a pointer from a memory address.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/frontend/types/pointer.jl#LL11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.ResultID" href="#SPIRV.ResultID"><code>SPIRV.ResultID</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Result ID used in a SPIR-V context, following single static assignment rules for valid modules.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/result.jl#LL1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.SPIRVTarget" href="#SPIRV.SPIRVTarget"><code>SPIRV.SPIRVTarget</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V target for compilation through the Julia frontend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/frontend/target.jl#LL3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.ShaderLayout" href="#SPIRV.ShaderLayout"><code>SPIRV.ShaderLayout</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Shader-compatible layout strategy, where layout information is strictly read from shader decorations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/layouts.jl#LL268-L270">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.StructType" href="#SPIRV.StructType"><code>SPIRV.StructType</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SPIR-V aggregate type.</p><p>Equality is defined in terms of identity, since different aggregate types have in principle different semantics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/spir_types.jl#LL102-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.SupportedFeatures" href="#SPIRV.SupportedFeatures"><code>SPIRV.SupportedFeatures</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Extensions and capabilities supported by a client API.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/requirements.jl#LL8-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.TypeMetadata" href="#SPIRV.TypeMetadata"><code>SPIRV.TypeMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Type metadata meant to be analyzed and modified to generate appropriate decorations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/layouts.jl#LL199-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.VulkanLayout" href="#SPIRV.VulkanLayout"><code>SPIRV.VulkanLayout</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Vulkan-compatible layout strategy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/layouts.jl#LL141-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.disassemble-Tuple{IO, SPIRV.Module}" href="#SPIRV.disassemble-Tuple{IO, SPIRV.Module}"><code>SPIRV.disassemble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">disassemble(io, spir_module)</code></pre><p>Transform the content of <code>spir_module</code> into a human-readable format and prints it to <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/disassemble.jl#LL84-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.spir_type" href="#SPIRV.spir_type"><code>SPIRV.spir_type</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a SPIR-V type from a Julia type, caching the mapping in the <code>IR</code> if one is provided.</p><p>If <code>wrap_mutable</code> is set to true, then a pointer with class <code>StorageClassFunction</code> will wrap the result.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/spir_types.jl#LL197-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.@load-Tuple{Any}" href="#SPIRV.@load-Tuple{Any}"><code>SPIRV.@load</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@load address::T
@load address[index]::T</code></pre><p>Load a value of type <code>T</code>, either directly (if no index is specified) or at <code>index - 1</code> elements from <code>address</code>. <code>address</code> should be a device address, i.e. a <code>UInt64</code> value representing the address of a physical storage buffer.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Although <code>@load address::T</code> and <code>@load address[1]::T</code> look semantically the same, you should use whichever is appropriate given the underlying data; if you have an array pointer, use the latter, and if you have a pointer to a single element, use the former. Otherwise, executing this on the CPU will most likely crash if attempted with a <code>T</code> that is a mutable type, because mutable elements are stored as object pointers in arrays, requiring an extra bit of indirection that is expressed by <code>@load address[1]::T</code> if one wants to get the correct address.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/frontend/types/pointer.jl#LL117-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SPIRV.@store" href="#SPIRV.@store"><code>SPIRV.@store</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@store value address::T
@store value address[index]::T
@store address::T = value
@store address[index]::T = value</code></pre><p>Store a value of type <code>T</code> at the given <code>address</code>, either directly (if no index is specified) or at an offset of <code>index - 1</code> elements from <code>address</code>.</p><p>If <code>value</code> is not of type <code>T</code>, a conversion will be attempted.</p><p><code>address</code> should be a device address, i.e. a <code>UInt64</code> value representing the address of a physical storage buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/SPIRV.jl/blob/388ca9e60d830ed3667bedd856cb2088b20c8f58/src/frontend/types/pointer.jl#LL150-L161">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../features/">« Features</a><a class="docs-footer-nextpage" href="../devdocs/">Developer documentation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 19 March 2023 21:13">Sunday 19 March 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
